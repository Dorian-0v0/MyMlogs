## 前端里的设计模式

### 工厂模式

创建对象直接调用函数而不是构造函数，比如

axios

```javascript
const instance = axios.create({
    baseURL: import.meta.env.VITE_API_BASE_URL,
    timeout: 10000,
    ...config // 合并传入的配置
  })
```

### 单例模式

Pinia 是 Vue 3 官方推荐的状态管理库，其 store 本质上是单例

#### 单例模式在 Vue 3 中的优势

1. **全局状态管理**：确保应用状态的一致性
2. **资源共享**：如API客户端、数据库连接等
3. **性能优化**：避免重复创建昂贵对象
4. **配置一致性**：确保全局配置统一
5. **简化通信**：如事件总线模式

#### 注意事项

1. **测试问题**：单例可能使单元测试更复杂，需要在测试间重置状态
2. **内存泄漏**：长期存在的单例需要注意内存管理
3. **响应式处理**：在Vue中使用单例时，确保数据是响应式的
4. **替代方案**：考虑是否真的需要单例，有时依赖注入可能是更好的选择

### 观察者模式

Vue 响应式系统的核心设计模式，在对象之间定义一个**一对多**的依赖，当一个对象状态改变的时候，所有依赖的对象都会自动收到通知
